{% extends 'base.html.twig' %}

{% block title %}Admin - User List
{% endblock %}

{% block body %}
	<div
		class="min-h-screen bg-gray-100 text-gray-900">


		<nav class="bg-white shadow-md w-full py-4">
			<div
				class="container mx-auto flex justify-between items-center">
	
				<a href="#" class="text-2xl font-semibold text-gray-800">GoTo Admin</a>

		
				<div>
					<form method="post" action="{{ path('app_logout') }}">
						<button type="submit" class="px-4 py-2 bg-red-600 hover:bg-red-500 rounded-lg text-white font-medium transition duration-200">
							Logout
						</button>
					</form>
				</div>
			</div>
		</nav>

		<!-- Main Content Section -->
		<div class="container mx-auto py-8 px-20">
			<h1 class="text-5xl font-semibold text-center mb-8 text-blue-500">User List</h1>

			<div class="bg-white shadow-lg rounded-lg overflow-hidden">
				<table class="min-w-full">
					<thead>
						<tr class="bg-gradient-to-r from-indigo-500 to-purple-600 text-white">
							<th class="py-3 px-4 text-left">ID</th>
							<th class="py-3 px-4 text-left">Email</th>
							<th class="py-3 px-4 text-left">Nom</th>
							<th class="py-3 px-4 text-left">Prenom</th>
							<th class="py-3 px-4 text-left">Tel</th>
							<th class="py-3 px-4 text-left">Roles</th>
							<th class="py-3 px-4 text-left">Actions</th>
						</tr>
					</thead>
					<tbody>
						{% for user in users %}
							<tr class="border-b border-gray-300 hover:bg-gray-50 transition duration-150 ease-in-out">
								<td class="py-3 px-4 text-sm font-medium text-gray-800">{{ user.id }}</td>
								<td class="py-3 px-4 text-sm font-medium text-gray-800">{{ user.email }}</td>
								<td class="py-3 px-4 text-sm font-medium text-gray-800">{{ user.nom }}</td>

								<td class="py-3 px-4 text-sm font-medium text-gray-800">{{ user.prenom }}</td>

								<td class="py-3 px-4 text-sm font-medium text-gray-800">{{ user.tel }}</td>

								<td class="py-3 px-4">
									<span class="bg-gray-700 text-gray-100 py-2 px-3 rounded-xl text-sm">{{ user.roles[0] }}</span>
								</td>
								<td class="py-3 px-4">
									<a href="{{ path('admin_user_show', {'id': user.id}) }}" class="text-green-600 hover:text-green-800 transition duration-150 ease-in-out">
										 View
									</a>
									<span class="mx-2 text-gray-400">|</span>
									<a href="{{ path('admin_user_edit', {'id': user.id}) }}" class="text-blue-600 hover:text-blue-800 transition duration-150 ease-in-out">
										Edit
									</a>
									<span class="mx-2 text-gray-400">|</span>
									<a href="{{ path('admin_user_delete', {'id': user.id}) }}" class="text-red-600 hover:text-red-800 transition duration-150 ease-in-out">
										Delete
									</a>
									<span class="mx-2 text-gray-400">|</span>
									{% if user.cv %}
										<a    target="_blank"   href="{{ path('admin_user_download_cv', {'id': user.id}) }}" class="text-yellow-600 hover:text-yellow-800 transition duration-150 ease-in-out">
											Download CV
										</a>
									{% endif %}
								</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		</div>

	</div>
{% endblock %}
