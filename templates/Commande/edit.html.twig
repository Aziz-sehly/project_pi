{# templates/commande/edit.html.twig #}

<form method="post" action="{{ path('app_commande_edit', {'id': commande.id}) }}">
    {{ form_start(form) }}
    
    <div class="form-group">
        {{ form_label(form.product) }}
        {{ form_widget(form.product) }}
    </div>

    <div class="form-group">
        {{ form_label(form.quantity) }}
        {{ form_widget(form.quantity) }}
    </div>

    <div class="form-group">
        <button type="submit">Save Changes</button>
    </div>

    {{ form_end(form) }}
</form>

{# Check if the order has been cancelled already or not, and display cancel button if it is not cancelled yet #}
{% if commande.cancellationDate is null %}
    <form method="post" action="{{ path('app_commande_cancel', {'id': commande.id}) }}">
        <button type="submit" class="btn btn-warning" onclick="return confirm('Are you sure you want to cancel this order?')">Cancel Order</button>
    </form>
{% else %}
    <p>Order has been cancelled on: {{ commande.cancellationDate|date('Y-m-d H:i:s') }}</p>
{% endif %}
